<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Roundee Video Call</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <!--Google fonts links-->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">


        <!-- Sign Up page css  -->
        <link rel="stylesheet" href="assets/css/beta_1.0.css">


    </head>
    <body>
      <section class="wrap">
        <div class="room-wrap">
          <div class="video-view">
            <div class="video-space-header">
              <div class="room-url-wrapper">
                <div class="copy-button-wrapper">
                  <img src="assets/images/icon/link.png" alt="">
                  Copy link
                </div>
              </div>
            </div>
            <div id ="screenContainer" class="screen-container">
              <div class="video-box"  onclick="videoHeight()">
                <div style="height: 100%;">
                  <div class="video-frame" style="height: 100%;">
                    video
                  </div>
                  <!-- This is where Video goes -->
                </div>
                <div class="videoView-bottomLeftName">
                  <input id="myName" value="Guest Name1" onclick="nameEdit()">
                  <!-- This is "my" name. One can change only self's name -->
                </div>
                <div class="videoView-topToolbar">
                  <button>
                    <figure>
                      <img src="assets/images/icon/maximize.png" alt="">
                      <!-- Full Screen icon  -->
                      <div>Exit fullscreen</div>
                      <!-- Full Screen icon changes to Exit Fullscreen div button  -->
                    </figure>
                  </button>
                </div>
              </div>
              <!-- video box 1 -->
              <div class="video-box" onload="videoHeight()">
                <div style="height: 100%;">
                  <div class="video-frame" style="height: 100%;">
                    video
                  </div>
                  <!-- This is where Video goes -->
                </div>
                <div class="videoView-bottomLeftName">
                  <p>Guest Name2</p>
                </div>
                <div class="videoView-topToolbar">
                  <button>
                    <figure>
                      <img src="assets/images/icon/maximize.png" alt="">
                      <div>Exit fullscreen</div>
                    </figure>
                  </button>
                </div>
              </div>
              <!-- video box 2 -->
              <div class="video-box" onload="videoHeight()">
                <div style="height: 100%;">
                  <div class="video-frame" style="height: 100%;">
                    video
                  </div>

                </div>
                <div class="videoView-bottomLeftName">
                  <p>Guest Name2</p>
                </div>
                <div class="videoView-topToolbar">
                  <button>
                    <figure>
                      <img src="assets/images/icon/maximize.png" alt="">
                      <div>Exit fullscreen</div>
                    </figure>
                  </button>
                </div>
              </div>
              <!-- video box 3 -->
              <div class="video-box" onload="videoHeight()">
                <div style="height: 100%;">
                  <div class="video-frame" style="height: 100%;">
                    video
                  </div>
                </div>
                <div class="videoView-bottomLeftName">
                  <p>Guest Name2</p>
                </div>
                <div class="videoView-topToolbar">
                  <button>
                    <figure>
                      <img src="assets/images/icon/maximize.png" alt="">
                      <div>Exit fullscreen</div>
                    </figure>
                  </button>
                </div>
              </div>
              <!-- video box 4 -->
              <div class="video-box" onload="videoHeight()">
                <div style="height: 100%;">
                  <div class="video-frame" style="height: 100%;">
                    video
                  </div>
                </div>
                <div class="videoView-bottomLeftName">
                  <p>Guest Name2</p>
                </div>
                <div class="videoView-topToolbar">
                  <button>
                    <figure>
                      <img src="assets/images/icon/maximize.png" alt="">
                      <div>Exit fullscreen</div>
                    </figure>
                  </button>
                </div>
              </div>
              <!-- video box 5 -->
              <!--<div class="video-box" onload="videoHeight()">
                <div style="height: 100%;">
                  <div class="video-frame" style="height: 100%;">
                    video
                  </div>
                </div>
                <div class="videoView-bottomLeftName">
                  <p>Guest Name2</p>
                </div>
                <div class="videoView-topToolbar">
                  <button>
                    <figure>
                      <img src="assets/images/icon/maximize.png" alt="">
                      <div>Exit fullscreen</div>
                    </figure>
                  </button>
                </div>
              </div>
              <!-- video box 6 -->

            </div>
            <div id="videoToolbarFixed" class="video-toolbar-fixed">
              <div class="video-toolbar">
                <div class="meeting-ctrl">
                  <button class="video-toolbar-item"><img src="assets/images/icon/guest.png" alt=""><div>guest</div></button>
                  <button class="video-toolbar-item"><img src="assets/images/icon/video-on.png" alt=""><div>video on</div></button>
                  <button class="video-toolbar-item"><img src="assets/images/icon/mic-on.png" alt=""><div>mic on</div></button>
                  <button class="video-toolbar-item"><img src="assets/images/icon/recording-off.png" alt="" class="rec-btn"><img src="assets/images/icon/recording-on.png" alt="" class="rec-btn-on"><div>rec</div></button>
                  <button class="video-toolbar-item"><img src="assets/images/icon/present.png" alt=""><div>present</div></button>
                  <button class="video-toolbar-item"><img src="assets/images/icon/settings.png" alt=""><div>settings</div></button>
                  <button class="video-toolbar-item leave-button"><img src="assets/images/icon/leave.png" alt=""><div>leave</div></button>
                </div>
              </div>
            </div>

          </div>
          <div class="chat-open-button visible">
            <img src="assets/images/icon/chat.png" alt="">
            Chat
          </div>
          <div></div>
          <div></div>

        </div>
      </section>


        <script src="assets/js/signup.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script>
          function nameEdit() {
            // document.getElementById("myName").readOnly = false;
            document.getElementById("myName").select();
            this.setSelectionRange(0, this.value.length);
          };
          function videoHeight() {
          console.error("ttttttt");
          var videoDom = document.getElementsByClassName("video-box");
          var videoWidth;
          var videoHeight;
          for(var i=0, n=videoDom.length; i<n; i++){
            videoWidth = videoDom[i].offsetWidth;
            videoHeight = videoWidth * 3/4;
            console.error("i="+ i + " w=  " +videoWidth + " h=  " + videoHeight);

            if (n < 3) {
              videoWidth = videoDom[i].offsetWidth;
              videoHeight = videoWidth * 3/4;
              videoDom[i].style.height == videoHeight + "px";
              console.error('n<3');

            } else if (n === 3) {
              videoDom[i].style.width = 31 + "%";
              videoWidth;
              videoHeight;
              videoDom[i].style.height = videoHeight + "px";
              console.error('n=3');

            } else if (n === 4) {
              var screenContainer = document.getElementById("screenContainer");
              screenContainer.style.width = 65 + "%";
              //videoHeight = 3/4 *  (document.getElementById("screenContainer").offsetHeight - document.getElementById("videoToolbarFixed").offsetHeight - 280);
              videoHeight = 3/4 * videoWidth;
              videoWidth = 0.48 * screenContainer.offsetWidth + "px";
              videoDom[i].style.height = videoHeight + "px";
              videoDom[i].style.width = videoWidth + "px";
              screenContainer.style.height = document.getElementById("screenContainer").offsetHeight - document.getElementById("videoToolbarFixed").offsetHeight - 280 + "px";
              //console.error(document.getElementById("screenContainer").offsetHeight - document.getElementById("videoToolbarFixed").offsetHeight);
              console.error('n=4');

            } else {
              var screenContainer = document.getElementById("screenContainer");
              screenContainer.style.width = 65 + "%";
              videoWidth = videoDom[i].style.width = 31 + "%";
              //videoWidth;
              videoHeight = 1/2 *  (document.getElementById("screenContainer").offsetHeight - document.getElementById("videoToolbarFixed").offsetHeight - 280);
              //videoHeight = 3/4 * videoWidth;
              //videoHeight;
              videoDom[i].style.height = videoHeight + "px";
              videoDom[i].style.width = videoWidth + "px";
               //console.error(document.getElementById("screenContainer").offsetHeight);
               //console.error(document.getElementById("screenContainer").offsetWidth);
            };

            // if (n === 3) {
            //   videoWidth = 31 + "%";
            //   videoHeight = (window.innerWidth * 0.36) + "%";
            //   videoDom[i].style.height == videoHeight + "px";
            //   videoDom[i].style.width = videoWidth + "px";
            // } else if (n == 4) {
            //   videoWidth = (window.innerWidth * 0.24);
            //   videoHeight = (window.innerWidth * 0.18);
            //   videoDom[i].style.height == videoHeight + "px";
            //   videoDom[i].style.width = videoWidth + "px";
            // } else if (n >= 5) {
            //   videoWidth = (window.innerWidth * 0.31);
            //   videoHeight = 3/4 * videoWidth;
            //   videoDom[i].style.height == videoHeight + "px";
            //   videoDom[i].style.width = videoWidth + "px";
            //   document.getElementsByClassName('screen-container').style("justify-content", "center");
            // } else {
            //   videoWidth;
            //   videoHeight;
            //   videoDom[i].style.height = videoHeight + "px";
            // }

            // var manyVideo = (videoDom.length == 3) ? (true videoWidth == 31%; videoDom[i].style.width = videoWidth;) : ((videoDom.length == 4 ) ? (true videoHeight * 1/2; videoDom[i].style.height = videoHeight + "px";) : (else videoWidth == 31%;videoHeight * 1/2; videoDom[i].style.height = videoHeight + "px";));
            videoDom[i].style.height = videoHeight + "px";
            //console.error('videoWidth = ' + videoWidth + "  Height = " + videoHeight);
          }
        };
        </script>
    </body>
</html>
